<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="Content-Type">
  <title></title>
</head>
<body>
Consider a file named "matrix" contaning the following data:<br>
0 1 2 3 4<br>
1 2 3 4 5<br>
2 3 4 5 6<br>
3 4 5 6 7<br>
4 5 6 7 8<br>
5 6 7 8 9<br>
<br>
#set the cell at 2nd column and 2nd row to 4 and the cell at 3rd column
and 3rd row to 9<br>
administrator@ubuntu:~/workspace/bash$ cat matrix | awk
'NR==3{$3=9}NR==2{$2=4}{print}'<br>
0 1 2 3 4<br>
1 4 3 4 5<br>
2 3 9 5 6<br>
3 4 5 6 7<br>
4 5 6 7 8<br>
5 6 7 8 9<br>
<br>
administrator@ubuntu:~/workspace/bash$ cat matrix | awk
'NR&lt;=NF{$NR=$NR*$NR}{print}'<br>
0 1 2 3 4<br>
1 4 3 4 5<br>
2 3 16 5 6<br>
3 4 5 36 7<br>
4 5 6 7 64<br>
5 6 7 8 9<br>
<br>
# cut the first column of the file<br>
administrator@ubuntu:~/workspace/bash$ cat matrix | cut -d" " -f 2- <br>
1 2 3 4<br>
2 3 4 5<br>
3 4 5 6<br>
4 5 6 7<br>
5 6 7 8<br>
6 7 8 9<br>
<br>
# cut the first 3 columns of the file and output each number in a line<br>
administrator@ubuntu:~/workspace/bash$ cat matrix | awk
'{for(i=4;i&lt;=NF;i++)print $i}'<br>
3<br>
4<br>
4<br>
5<br>
5<br>
6<br>
6<br>
7<br>
7<br>
8<br>
8<br>
9<br>
<br>
# cut the last row of the file <br>
administrator@ubuntu:~/workspace/bash$ sed '$d' &lt; matrix<br>
0 1 2 3 4<br>
1 2 3 4 5<br>
2 3 4 5 6<br>
3 4 5 6 7<br>
4 5 6 7 8<br>
<br>
# cut the last 2 rows of the file <br>
administrator@ubuntu:~/workspace/bash$ sed 'N;$!P;$!D;$d' &lt; matrix <br>
0 1 2 3 4<br>
1 2 3 4 5<br>
2 3 4 5 6<br>
3 4 5 6 7<br>
<big><big><big><big><span class="Apple-style-span"
 style="border-collapse: separate; color: rgb(0, 0, 0); font-family: 'Times New Roman'; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; font-size: medium;"><span
 class="Apple-style-span"
 style="font-family: verdana,geneva,lucida,'lucida grande',arial,helvetica,sans-serif; font-size: 14px;"><br>
</span></span></big></big></big></big># cut the 2nd row of the file<br>
administrator@ubuntu:~/workspace/bash$ sed '2d' &lt; matrix<br>
0 1 2 3 4<br>
2 3 4 5 6<br>
3 4 5 6 7<br>
4 5 6 7 8<br>
5 6 7 8 9<br>
<br>
# use 2nd column as the key to the 4th column. <br>
#e.g. if a file named "key" contains <br>
# 1<br>
# 2<br>
# 5<br>
administrator@ubuntu:~/workspace/bash$ gawk 'ARGIND==1
{map[$2]=$4;next} {print $1, "-", map[$1]}' matrix key<br>
1 - 3<br>
2 - 4<br>
5 - 7<br>
<br>
# suppose matrix is <br>
# 0 1 2 3 4<br>
# 1 2 3 4 5<br>
# 2 3 4 5 6<br>
# 3 4 5 6 7<br>
# 3 4 5 6 7<br>
# 4 5 6 7 8<br>
# 5 6 7 8 9<br>
# count the frequency of the 5th column (adjacent reocurrences only
count one) for rows do not contain number "2" <br>
# note how variable last is referenced!!!<br>
administrator@ubuntu:~/workspace/bash$ cat matrix | awk
'/2/{last=0;next} last!=$5 {c[$5]++} {last=$5} END {for(i in c){print
c[i],i}}'<br>
1 7<br>
1 8<br>
1 9<br>
#For each number i appears on the 5th column, count # of rows that have it on the 5th column (excluding rows that do not contain number "2") <br>
administrator@ubuntu:~/workspace/bash$ cat matrix | awk
'/2/{last=0;next} {c[$5]++} END {for(i in c){print c[i],i}}'<br>
2 7<br>
1 8<br>
1 9<br>
<br>
#calculate the increase rate of the 5th column<br>
administrator@ubuntu:~/workspace/bash$ cat matrix | awk '{print
"last="last,"current="$5,"rate="($5-last)/$5;last=$5}'<br>
last= current=4 rate=1<br>
last=4 current=5 rate=0.2<br>
last=5 current=6 rate=0.166667<br>
last=6 current=7 rate=0.142857<br>
last=7 current=8 rate=0.125<br>
last=8 current=9 rate=0.111111<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</body>
</html>
